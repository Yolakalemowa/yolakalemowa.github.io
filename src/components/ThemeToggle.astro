<button
    title="Theme toggle"
    type="button"
    id="themeToggle"
    onclick="themeToggle()"
>
    <svg class="moon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"
        ><path
            fill-rule="evenodd"
            d="M9.598 1.591a.75.75 0 01.785-.175 7 7 0 11-8.967 8.967.75.75 0 01.961-.96 5.5 5.5 0 007.046-7.046.75.75 0 01.175-.786zm1.616 1.945a7 7 0 01-7.678 7.678 5.5 5.5 0 107.678-7.678z"
        ></path>
    </svg>
    <svg class="sun" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"
        ><path
            fill-rule="evenodd"
            d="M8 10.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5zM8 12a4 4 0 100-8 4 4 0 000 8zM8 0a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0V.75A.75.75 0 018 0zm0 13a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 018 13zM2.343 2.343a.75.75 0 011.061 0l1.06 1.061a.75.75 0 01-1.06 1.06l-1.06-1.06a.75.75 0 010-1.06zm9.193 9.193a.75.75 0 011.06 0l1.061 1.06a.75.75 0 01-1.06 1.061l-1.061-1.06a.75.75 0 010-1.061zM16 8a.75.75 0 01-.75.75h-1.5a.75.75 0 010-1.5h1.5A.75.75 0 0116 8zM3 8a.75.75 0 01-.75.75H.75a.75.75 0 010-1.5h1.5A.75.75 0 013 8zm10.657-5.657a.75.75 0 010 1.061l-1.061 1.06a.75.75 0 11-1.06-1.06l1.06-1.06a.75.75 0 011.06 0zm-9.193 9.193a.75.75 0 010 1.06l-1.06 1.061a.75.75 0 11-1.061-1.06l1.06-1.061a.75.75 0 011.061 0z"
        ></path>
    </svg>
</button>

<script>
    document.getElementById("themeToggle")!.style.display = "initial";
    if (!window.matchMedia("(prefers-color-scheme: dark)").matches) {
        document.body.classList.add("light");
    } else {
        document.body.classList.add("dark");
    }
</script>

<script is:inline>
    function themeToggle() {
        if (document.body.classList.contains("dark")) {
            document.body.classList.add("light");
            document.body.classList.remove("dark");
        } else {
            document.body.classList.add("dark");
            document.body.classList.remove("light");
        }
    }
</script>

<style lang="scss">
    button {
        display: none;
        text-decoration: none;
        padding: 0.5rem;
        border-radius: 0.5rem;
        transition: all 0.25s;
        color: var(--text);
        background-color: transparent;
        border: none;
        cursor: pointer;
        &:hover {
            color: var(--link);
        }
    }
    // Theme buttons
    svg {
        fill: var(--text);
        height: 1.25rem;
        transition: all 0.25s;
        vertical-align: -22.5%;
    }

    :global(.light) {
        .sun {
            display: none;
        }
    }

    :global(.dark) {
        .moon {
            display: none;
        }
        .sun {
            display: inline-block;
        }
    }
</style>
